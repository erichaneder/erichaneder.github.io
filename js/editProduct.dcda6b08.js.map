{"version":3,"file":"js/editProduct.dcda6b08.js","mappings":"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","sources":["webpack://frontend/./src/components/pages/EditProductView.vue","webpack://frontend/./src/components/pages/EditProductView.vue?4efc"],"sourcesContent":["<template>\r\n    <div class=\"container mx-auto my-8 px-4 mb-40 flex flex-col items-center\">\r\n\r\n      <!-- Success Alert -->\r\n      <div v-if=\"showAlert\" class=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-8\" role=\"alert\">\r\n        <strong class=\"font-bold\">Success!</strong>\r\n        <span class=\"block sm:inline\">Product successfully changed!</span>\r\n      </div>\r\n      \r\n      <NormalHeading text=\"Edit Product\"/>\r\n      <div class=\"bg-white p-8 rounded-lg shadow-md w-full max-w-xl\">\r\n        <form @submit.prevent=\"updateProduct\">\r\n          <div class=\"mb-4\">\r\n            <label for=\"productName\" class=\"block text-sm mb-1\">Product Name:</label>\r\n            <input type=\"text\" id=\"productName\" v-model=\"form.values.name\" @blur=\"validate('name')\" class=\"w-full h-10 px-2 border rounded\">\r\n            <p class=\"text-red-500\" v-if=\"form.errors.name\">{{ form.errors.name }}</p>\r\n          </div>\r\n  \r\n          <div class=\"mb-4\">\r\n            <label for=\"productPrice\" class=\"block text-sm mb-1\">Price:</label>\r\n            <input type=\"number\" id=\"productPrice\" step=\"0.01\" v-model.number=\"form.values.price\" @blur=\"validate('price')\" class=\"w-full h-10 px-2 border rounded\">\r\n            <p class=\"text-red-500\" v-if=\"form.errors.price\">{{ form.errors.price }}</p>\r\n          </div>\r\n  \r\n          <div class=\"mb-4\">\r\n            <label for=\"productDescription\" class=\"block text-sm mb-1\">Description:</label>\r\n            <textarea id=\"productDescription\" v-model=\"form.values.description\" @blur=\"validate('description')\" class=\"w-full px-2 border rounded\" rows=\"4\"></textarea>\r\n            <p class=\"text-red-500\" v-if=\"form.errors.description\">{{ form.errors.description }}</p>\r\n          </div>\r\n  \r\n          <CustomButton type=\"submit\" customButtonStyle=\"w-full bg-teal-700 text-white p-2 rounded hover:bg-teal-500\">Update Product</CustomButton>\r\n        </form>\r\n      </div>\r\n    </div>\r\n\r\n    <ErrorModal\r\n    :isVisible=\"isErrorModalVisible\"\r\n    :errorMessage=\"errorMessage\"\r\n    @update:isVisible=\"isErrorModalVisible = $event\"\r\n    />\r\n  </template>\r\n  \r\n  <script>\r\n  import CustomButton from '@/components/atoms/Button.vue';\r\n  import NormalHeading from \"@/components/atoms/NormalHeading.vue\";\r\n  import ErrorModal from \"@/components/atoms/ErrorModal.vue\";\r\n  import { useCompleteStore } from \"@/store/store\";\r\n  import { object, string, number } from \"yup\";\r\n\r\n  const productSchema = object().shape({\r\n    name: string().required(\"Product name is required\"),\r\n    price: number().positive(\"Price must be a positive number\").required(\"Price is required\"),\r\n    description: string().required(\"Product description is required\"),\r\n  });\r\n\r\n  export default {\r\n    components: {\r\n      CustomButton,\r\n      NormalHeading,\r\n      ErrorModal\r\n    },\r\n    data() {\r\n      return {\r\n        form: {\r\n          values: {\r\n            id: null,\r\n            name: '',\r\n            price: 0,\r\n            description: ''\r\n          },\r\n          errors: {\r\n            name: '',\r\n            price: '',\r\n            description: ''\r\n          }\r\n      },\r\n        store: useCompleteStore(),\r\n        isErrorModalVisible: false,\r\n        errorMessage: \"\",\r\n        showAlert: false,\r\n      };\r\n    },\r\n    methods: {\r\n      async updateProduct() {\r\n        productSchema.validate(this.form.values, { abortEarly: false })\r\n          .then(async () => {\r\n            this.form.errors = { name: '', price: '', description: '' };\r\n            const success = await this.store.updateProduct(this.form.values);\r\n            if(success) {\r\n              this.showAlert = true;\r\n              setTimeout(this.resetForm, 2000);\r\n            } else {\r\n              this.errorMessage = \"Error adding product!\";\r\n              this.isErrorModalVisible = true;\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n            this.errorMessage = \"Error updating product: \" + err;\r\n            this.isErrorModalVisible = true;\r\n          });\r\n      },\r\n      validate(field) {\r\n        productSchema\r\n          .validateAt(field, this.form.values)\r\n          .then(() => {\r\n            this.form.errors[field] = \"\";\r\n          })\r\n          .catch((err) => {\r\n            this.form.errors[field] = err.message;\r\n          });\r\n      }\r\n    },\r\n    async mounted() {\r\n      const productId = parseInt(this.$route.params.productId);\r\n      const productData = this.store.getProductById(productId);\r\n      if (productData) {\r\n        this.form.values = { ...productData };\r\n      } else {\r\n        console.error(\"Product not found\");\r\n        // Handle product not found case\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  ","import { render } from \"./EditProductView.vue?vue&type=template&id=68d5315c\"\nimport script from \"./EditProductView.vue?vue&type=script&lang=js\"\nexport * from \"./EditProductView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","role","_createElementVNode","_hoisted_3","_hoisted_4","for","_hoisted_1","$data","showAlert","_createElementBlock","_hoisted_2","_hoisted_5","_createVNode","_component_NormalHeading","text","_hoisted_6","onSubmit","_cache","_withModifiers","args","$options","updateProduct","_hoisted_7","_hoisted_8","type","id","form","values","name","$event","onBlur","validate","errors","_hoisted_9","_toDisplayString","_hoisted_10","_hoisted_11","step","price","_hoisted_12","_hoisted_13","_hoisted_14","description","rows","_hoisted_15","_component_CustomButton","customButtonStyle","_component_ErrorModal","isVisible","isErrorModalVisible","errorMessage","productSchema","object","shape","string","required","number","positive","components","CustomButton","NormalHeading","ErrorModal","data","store","useCompleteStore","methods","this","abortEarly","then","async","success","setTimeout","resetForm","catch","err","console","log","field","validateAt","message","mounted","productId","parseInt","$route","params","productData","getProductById","error","__exports__","render"],"sourceRoot":""}