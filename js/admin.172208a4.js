"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[328],{9317:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var a=n(3396),o=n(9242),l=n(7139);const i=e=>((0,a.dD)("data-v-32144a54"),e=e(),(0,a.Cn)(),e),s={class:"admin-container"},r=i((()=>(0,a._)("h1",null,"ðŸŽ­ Contest Admin",-1))),d={class:"card"},c=i((()=>(0,a._)("label",null,"Costume name",-1))),u=i((()=>(0,a._)("label",null,"Category",-1))),g=i((()=>(0,a._)("option",{value:1},"Category 1",-1))),m=i((()=>(0,a._)("option",{value:2},"Category 2",-1))),h=i((()=>(0,a._)("option",{value:3},"Category 3",-1))),C=[g,m,h],w=i((()=>(0,a._)("label",null,"Image",-1))),p=["src"],v=["disabled"],_={class:"card danger"},y={class:"card"},b=i((()=>(0,a._)("h2",null,"Preview",-1)));function f(e,t,n,i,g,m){return(0,a.wg)(),(0,a.iD)("div",s,[r,(0,a._)("div",d,[c,(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>g.name=e),placeholder:"e.g. Pirate"},null,512),[[o.nr,g.name]]),u,(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>g.category=e)},C,512),[[o.bM,g.category]]),w,(0,a._)("input",{type:"file",accept:"image/*",onChange:t[2]||(t[2]=(...e)=>m.onFileChange&&m.onFileChange(...e))},null,32),g.preview?((0,a.wg)(),(0,a.iD)("img",{key:0,src:g.preview,class:"preview"},null,8,p)):(0,a.kq)("",!0),(0,a._)("button",{class:"primary",disabled:!m.canSubmit,onClick:t[3]||(t[3]=(...e)=>m.addCostume&&m.addCostume(...e))}," Add costume ",8,v)]),(0,a._)("div",_,[(0,a._)("button",{class:"danger-btn",onClick:t[4]||(t[4]=(...e)=>m.conclude&&m.conclude(...e))}," âŒ Conclude contest ")]),(0,a._)("div",y,[b,((0,a.wg)(),(0,a.iD)(a.HY,null,(0,a.Ko)([1,2,3],(e=>(0,a._)("div",{key:e,class:"preview-category"},[(0,a._)("h3",null,"Category "+(0,l.zw)(e),1),(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.store.getCostumesByCategory(e),(e=>((0,a.wg)(),(0,a.iD)("li",{key:e.id},(0,l.zw)(e.name)+" ("+(0,l.zw)(e.votes)+" votes) ",1)))),128))])]))),64))])])}var k=n(4460),D={name:"AdminView",data(){return{name:"",category:1,image:null,preview:null}},computed:{store(){return(0,k.V)()},canSubmit(){return this.name&&this.image&&!this.store.isContestConcluded}},mounted(){this.store.loadContestFromLocalStorage()},methods:{onFileChange(e){const t=e.target.files[0];if(!t)return;const n=new Image,a=new FileReader;a.onload=e=>{n.src=e.target.result},n.onload=()=>{const e=800,t=e/n.width,a=document.createElement("canvas");a.width=e,a.height=n.height*t;const o=a.getContext("2d");o.drawImage(n,0,0,a.width,a.height);const l=a.toDataURL("image/jpeg",.7);this.image=l,this.preview=l},a.readAsDataURL(t)},addCostume(){this.store.addCostume({category:this.category,name:this.name,image:this.image}),this.name="",this.image=null,this.preview=null},conclude(){confirm("This will stop all voting. Continue?")&&this.store.concludeContest()}}},F=n(89);const A=(0,F.Z)(D,[["render",f],["__scopeId","data-v-32144a54"]]);var I=A}}]);
//# sourceMappingURL=admin.172208a4.js.map