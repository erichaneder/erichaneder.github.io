{"version":3,"file":"js/category3.a654115f.js","mappings":"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","sources":["webpack://frontend/./src/views/CategoryThree.vue","webpack://frontend/./src/views/CategoryBase.vue","webpack://frontend/./src/views/CategoryBase.vue?432e"],"sourcesContent":["import script from \"./CategoryThree.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CategoryThree.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"category-container\">\n    <div\n      class=\"slider\"\n      @touchstart=\"onTouchStart\"\n      @touchend=\"onTouchEnd\"\n    >\n      <transition name=\"slide\" mode=\"out-in\">\n        <div v-if=\"currentPageCostumes.length\" :key=\"pageIndex\" class=\"card\">\n          <div class=\"category-title\">\n            {{ categoryTitle }}\n          </div>\n          <div class=\"grid\">\n            <button\n              v-for=\"(costume, idx) in currentPageCostumes\"\n              :key=\"costume.id\"\n              class=\"photo-tile\"\n              :class=\"{\n                selected: idx === selectedIndex && !hasVoted,\n                voted: costume.id === votedSelectionId,\n                'like-pulse': costume.id === likePulseId\n              }\"\n              @click=\"selectCostume(idx)\"\n            >\n              <img\n                :src=\"costume.image\"\n                class=\"tile-image\"\n                alt=\"Costume\"\n              />\n              <div class=\"tile-name\">{{ costume.name }}</div>\n            </button>\n          </div>\n        </div>\n\n        <div v-else :key=\"'empty'\" class=\"card empty-card\">\n          <div class=\"category-title\">\n            {{ categoryTitle }}\n          </div>\n          No entries\n        </div>\n      </transition>\n\n      <div v-if=\"totalPages > 1\" class=\"page-indicator\">\n        {{ pageIndex + 1 }} / {{ totalPages }}\n      </div>\n\n      <div class=\"name\" v-if=\"currentCostume\">\n        Ausgewählt: {{ currentCostume.name }}\n      </div>\n    </div>\n\n    <div class=\"like-wrapper\" style=\"position: relative; display: inline-block;\">\n    <button\n        class=\"like-button\"\n        :disabled=\"isConcluded || hasVoted\"\n        @click=\"like\"\n    >\n        Like\n    </button>\n\n    <span\n        v-if=\"showHeart\"\n        class=\"heart-animation\"\n    >&#x2764;&#xFE0F;</span>\n    </div>\n\n    <div class=\"nav-buttons\">\n      <button\n        v-if=\"prevRoute\"\n        class=\"nav-button\"\n        @click=\"$router.push(prevRoute)\"\n      >\n        &#x2190; Zurück\n       </button>\n\n      <button\n        v-if=\"nextRoute\"\n        class=\"nav-button\"\n        @click=\"$router.push(nextRoute)\"\n      >\n        Weiter &#x2192;\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useCompleteStore } from '@/store/store';\n\nexport default {\n  name: 'CategoryBase',\n\n  props: {\n    category: {\n      type: Number,\n      required: true\n    },\n    nextRoute: {\n      type: String,\n      default: null\n    },\n    prevRoute: {\n      type: String,\n      default: null\n    }\n  },\n\n  data() {\n    return {\n      pageIndex: 0,\n      selectedIndex: 0,\n      touchStartX: 0,\n      showHeart: false,\n      likePulseId: null,\n    };\n  },\n\n  computed: {\n    store() {\n      return useCompleteStore();\n    },\n    costumes() {\n      return this.store.getCostumesByCategory(this.category);\n    },\n    pages() {\n      const chunkSize = 4;\n      const pages = [];\n\n      for (let i = 0; i < this.costumes.length; i += chunkSize) {\n        pages.push(this.costumes.slice(i, i + chunkSize));\n      }\n\n      return pages;\n    },\n    totalPages() {\n      return this.pages.length;\n    },\n    currentPageCostumes() {\n      return this.pages[this.pageIndex] || [];\n    },\n    currentCostume() {\n      return this.currentPageCostumes[this.selectedIndex];\n    },\n    votedSelectionId() {\n      return this.store.getVotedSelections[this.category];\n    },\n    isConcluded() {\n      return this.store.isContestConcluded;\n    },\n    hasVoted() {\n        return this.store.hasVotedInCategory(this.category);\n    },\n    categoryTitle() {\n      const categoryId = Number(this.category);\n      if (categoryId === 1) return 'Lustigstes Kostüm';\n      if (categoryId === 2) return 'Bestes Gruppenkostüm';\n      if (categoryId === 3) return 'Kreativstes Kostüm';\n      return `Category ${this.category}`;\n    }\n  },\n\n  mounted() {\n    this.store.loadContestFromFirebase();\n  },\n\n  methods: {\n    selectCostume(index) {\n      this.selectedIndex = index;\n    },\n\n    like() {\n        if (!this.currentCostume) return;\n        if (this.hasVoted) return;\n\n        this.store.voteForCostume(this.category, this.currentCostume.id);\n        this.store.markCategoryLiked(this.category, this.currentCostume.id);\n\n        // Kurzer Fokus-Boost auf der ausgewählten Karte\n        this.likePulseId = this.currentCostume.id;\n        setTimeout(() => {\n            this.likePulseId = null;\n        }, 500);\n\n        // Herz-Animation\n        this.showHeart = true;\n        setTimeout(() => {\n            this.showHeart = false;\n        }, 1000);\n    },\n\n    onTouchStart(e) {\n      this.touchStartX = e.changedTouches[0].clientX;\n    },\n\n    onTouchEnd(e) {\n      const deltaX = e.changedTouches[0].clientX - this.touchStartX;\n\n      if (Math.abs(deltaX) < 50) return;\n\n      if (deltaX < 0 && this.pageIndex < this.totalPages - 1) {\n        this.pageIndex++;\n        this.selectedIndex = 0;\n      }\n\n      if (deltaX > 0 && this.pageIndex > 0) {\n        this.pageIndex--;\n        this.selectedIndex = 0;\n      }\n    }\n  },\n\n  watch: {\n    costumes() {\n      if (this.pageIndex >= this.totalPages) {\n        this.pageIndex = 0;\n      }\n      this.selectedIndex = 0;\n    },\n    votedSelectionId: {\n      handler() {\n        if (!this.votedSelectionId) return;\n        const flat = this.pages.flat();\n        const idx = flat.findIndex((c) => c.id === this.votedSelectionId);\n        if (idx === -1) return;\n\n        const page = Math.floor(idx / 4);\n        const localIndex = idx % 4;\n        this.pageIndex = page;\n        this.selectedIndex = localIndex;\n      },\n      immediate: true\n    }\n  }\n};\n</script>\n\n<style scoped>\n.category-container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  background: radial-gradient(circle at top, #fff3c4, #ffe0ef 45%, #d7f0ff);\n  color: #111;\n  padding: 16px;\n}\n\n.slider {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  max-width: 520px;\n  width: 100%;\n  margin: 0 auto;\n}\n\n.card {\n  width: 100%;\n  background: rgba(255, 255, 255, 0.92);\n  border-radius: 20px;\n  padding: 16px;\n  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);\n}\n\n.category-title {\n  margin-bottom: 12px;\n  font-size: 1.2rem;\n  font-weight: 700;\n  color: #111;\n}\n\n.empty-card {\n  text-align: center;\n  padding: 40px 16px;\n  font-weight: 600;\n  color: #555;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 12px;\n}\n\n.photo-tile {\n  border: none;\n  padding: 0;\n  background: #fff;\n  border-radius: 16px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.12);\n  transition: transform 0.2s ease, box-shadow 0.2s ease, outline 0.2s ease;\n}\n\n.photo-tile.selected {\n  outline: 3px solid #ff7a59;\n  transform: translateY(-2px);\n  box-shadow: 0 16px 30px rgba(255, 122, 89, 0.3);\n}\n\n.photo-tile.voted {\n  outline: 3px solid #e11d48;\n  box-shadow: 0 18px 36px rgba(225, 29, 72, 0.35);\n}\n\n.photo-tile.like-pulse {\n  animation: likePulse 0.5s ease;\n}\n\n.tile-image {\n  width: 100%;\n  aspect-ratio: 1 / 1;\n  object-fit: cover;\n}\n\n.tile-name {\n  font-size: 0.85rem;\n  font-weight: 600;\n  padding: 8px 10px 10px;\n  color: #111;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0), #fff 40%);\n}\n\n.name {\n  margin-top: 12px;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #333;\n}\n\n.page-indicator {\n  margin-top: 12px;\n  font-size: 0.9rem;\n  color: #555;\n  background: rgba(255, 255, 255, 0.8);\n  padding: 6px 12px;\n  border-radius: 999px;\n}\n\n.like-button {\n  margin: 12px;\n  width: 96px;\n  height: 96px;\n  border-radius: 999px;\n  border: none;\n  background: radial-gradient(circle at 30% 30%, #ff8aa8, #ff3366 60%, #e11d48);\n  color: white;\n  font-size: 1.15rem;\n  font-weight: 700;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  gap: 6px;\n  box-shadow: 0 12px 28px rgba(225, 29, 72, 0.35);\n  transition: transform 0.15s ease, box-shadow 0.15s ease;\n}\n\n.like-button:not(:disabled):active {\n  transform: scale(0.96);\n  box-shadow: 0 8px 18px rgba(225, 29, 72, 0.35);\n}\n\n.like-button:disabled {\n  opacity: 0.5;\n}\n\n.nav-buttons {\n  display: flex;\n  gap: 12px;\n  margin: 12px;\n}\n\n.nav-button {\n  flex: 1;\n  padding: 14px;\n  font-size: 1rem;\n  border-radius: 12px;\n  border: none;\n  background: #222;\n  color: white;\n}\n\n.like-wrapper {\n  position: relative;\n}\n\n.heart-animation {\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  transform: translateX(-50%) scale(1);\n  font-size: 2.4rem;\n  color: #ff3366;\n  animation: popHeart 1s forwards;\n  pointer-events: none; /* Klicks durchlassen */\n}\n\n@keyframes popHeart {\n  0% {\n    opacity: 1;\n    transform: translateX(-50%) scale(0.5);\n  }\n  50% {\n    opacity: 1;\n    transform: translateX(-50%) scale(1.4);\n  }\n  100% {\n    opacity: 0;\n    transform: translateX(-50%) scale(1.8);\n  }\n}\n\n@keyframes likePulse {\n  0% {\n    transform: scale(1);\n    box-shadow: 0 12px 24px rgba(225, 29, 72, 0.2);\n  }\n  50% {\n    transform: scale(1.08);\n    box-shadow: 0 24px 44px rgba(225, 29, 72, 0.4);\n  }\n  100% {\n    transform: scale(1);\n    box-shadow: 0 16px 30px rgba(225, 29, 72, 0.3);\n  }\n}\n\n.slide-enter-active,\n.slide-leave-active {\n  transition: transform 0.25s ease, opacity 0.25s ease;\n}\n\n.slide-enter-from {\n  transform: translateX(40px);\n  opacity: 0;\n}\n\n.slide-leave-to {\n  transform: translateX(-40px);\n  opacity: 0;\n}\n</style>\n","import { render } from \"./CategoryBase.vue?vue&type=template&id=805c68ae&scoped=true\"\nimport script from \"./CategoryBase.vue?vue&type=script&lang=js\"\nexport * from \"./CategoryBase.vue?vue&type=script&lang=js\"\n\nimport \"./CategoryBase.vue?vue&type=style&index=0&id=805c68ae&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-805c68ae\"]])\n\nexport default __exports__"],"names":["__exports__","class","key","style","_createElementBlock","_hoisted_1","_createElementVNode","onTouchstart","_cache","args","$options","onTouchStart","onTouchend","onTouchEnd","_createVNode","_Transition","name","mode","currentPageCostumes","length","$data","pageIndex","_hoisted_2","_toDisplayString","categoryTitle","_hoisted_3","_Fragment","_renderList","costume","idx","id","_normalizeClass","selectedIndex","hasVoted","votedSelectionId","likePulseId","onClick","$event","selectCostume","src","image","alt","_hoisted_6","_hoisted_7","_hoisted_8","totalPages","_hoisted_9","currentCostume","_hoisted_10","_hoisted_11","disabled","isConcluded","like","_hoisted_12","showHeart","_hoisted_13","_hoisted_14","$props","prevRoute","_ctx","$router","push","nextRoute","props","category","type","Number","required","String","default","data","touchStartX","computed","store","useCompleteStore","costumes","this","getCostumesByCategory","pages","chunkSize","i","slice","getVotedSelections","isContestConcluded","hasVotedInCategory","categoryId","mounted","loadContestFromFirebase","methods","index","voteForCostume","markCategoryLiked","setTimeout","e","changedTouches","clientX","deltaX","Math","abs","watch","handler","flat","findIndex","c","page","floor","localIndex","immediate","render"],"ignoreList":[],"sourceRoot":""}