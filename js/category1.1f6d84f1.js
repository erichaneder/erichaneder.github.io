"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[848],{3425:function(e,t,s){s.d(t,{A:function(){return b}});s(8743);var o=s(6768),n=s(5130),a=s(4232);const r={class:"category-container"},i={class:"grid"},u=["onClick"],c=["src"],d={class:"tile-name"},l={key:"empty",class:"card empty-card"},h={key:0,class:"page-indicator"},g={key:1,class:"name"},C={class:"like-wrapper",style:{position:"relative",display:"inline-block"}},m=["disabled"],p={key:0,class:"heart-animation"},v={class:"nav-buttons"};function k(e,t,s,k,y,I){return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",{class:"slider",onTouchstart:t[0]||(t[0]=(...e)=>I.onTouchStart&&I.onTouchStart(...e)),onTouchend:t[1]||(t[1]=(...e)=>I.onTouchEnd&&I.onTouchEnd(...e))},[(0,o.bF)(n.eB,{name:"slide",mode:"out-in"},{default:(0,o.k6)(()=>[I.currentPageCostumes.length?((0,o.uX)(),(0,o.CE)("div",{key:y.pageIndex,class:"card"},[(0,o.Lk)("div",i,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(I.currentPageCostumes,(e,t)=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,class:(0,a.C4)(["photo-tile",{selected:t===y.selectedIndex,voted:e.id===I.votedSelectionId}]),onClick:e=>I.selectCostume(t)},[(0,o.Lk)("img",{src:e.image,class:"tile-image",alt:"Costume"},null,8,c),(0,o.Lk)("div",d,(0,a.v_)(e.name),1)],10,u))),128))])])):((0,o.uX)(),(0,o.CE)("div",l," No entries "))]),_:1}),I.totalPages>1?((0,o.uX)(),(0,o.CE)("div",h,(0,a.v_)(y.pageIndex+1)+" / "+(0,a.v_)(I.totalPages),1)):(0,o.Q3)("",!0),I.currentCostume?((0,o.uX)(),(0,o.CE)("div",g," Selected: "+(0,a.v_)(I.currentCostume.name),1)):(0,o.Q3)("",!0)],32),(0,o.Lk)("div",C,[(0,o.Lk)("button",{class:"like-button",disabled:I.isConcluded||I.hasVoted,onClick:t[2]||(t[2]=(...e)=>I.like&&I.like(...e))}," ❤️ Like ",8,m),y.showHeart?((0,o.uX)(),(0,o.CE)("span",p,"❤️")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",v,[s.prevRoute?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"nav-button",onClick:t[3]||(t[3]=t=>e.$router.push(s.prevRoute))}," ← Previous category ")):(0,o.Q3)("",!0),s.nextRoute?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"nav-button",onClick:t[4]||(t[4]=t=>e.$router.push(s.nextRoute))}," Next category → ")):(0,o.Q3)("",!0)])])}var y=s(7683),I={name:"CategoryBase",props:{category:{type:Number,required:!0},nextRoute:{type:String,default:null},prevRoute:{type:String,default:null}},data(){return{pageIndex:0,selectedIndex:0,touchStartX:0,showHeart:!1}},computed:{store(){return(0,y.G)()},costumes(){return this.store.getCostumesByCategory(this.category)},pages(){const e=4,t=[];for(let s=0;s<this.costumes.length;s+=e)t.push(this.costumes.slice(s,s+e));return t},totalPages(){return this.pages.length},currentPageCostumes(){return this.pages[this.pageIndex]||[]},currentCostume(){return this.currentPageCostumes[this.selectedIndex]},votedSelectionId(){return this.store.getVotedSelections[this.category]},isConcluded(){return this.store.isContestConcluded},hasVoted(){return this.store.hasVotedInCategory(this.category)}},mounted(){this.store.loadContestFromFirebase()},methods:{selectCostume(e){this.selectedIndex=e},like(){this.currentCostume&&(this.hasVoted||(this.store.voteForCostume(this.category,this.currentCostume.id),this.store.markCategoryLiked(this.category,this.currentCostume.id),this.showHeart=!0,setTimeout(()=>{this.showHeart=!1},1e3)))},onTouchStart(e){this.touchStartX=e.changedTouches[0].clientX},onTouchEnd(e){const t=e.changedTouches[0].clientX-this.touchStartX;Math.abs(t)<50||(t<0&&this.pageIndex<this.totalPages-1&&(this.pageIndex++,this.selectedIndex=0),t>0&&this.pageIndex>0&&(this.pageIndex--,this.selectedIndex=0))}},watch:{costumes(){this.pageIndex>=this.totalPages&&(this.pageIndex=0),this.selectedIndex=0},votedSelectionId:{handler(){if(!this.votedSelectionId)return;const e=this.pages.flat(),t=e.findIndex(e=>e.id===this.votedSelectionId);if(-1===t)return;const s=Math.floor(t/4),o=t%4;this.pageIndex=s,this.selectedIndex=o},immediate:!0}}},x=s(1241);const f=(0,x.A)(I,[["render",k],["__scopeId","data-v-87647a74"]]);var b=f},9576:function(e,t,s){s.r(t),s.d(t,{default:function(){return i}});var o=s(6768),n=s(3425),a={__name:"CategoryOne",setup(e){return(e,t)=>((0,o.uX)(),(0,o.Wv)(n.A,{category:1,nextRoute:"/category/2"}))}};const r=a;var i=r}}]);
//# sourceMappingURL=category1.1f6d84f1.js.map