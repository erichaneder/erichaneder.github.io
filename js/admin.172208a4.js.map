{"version":3,"file":"js/admin.172208a4.js","mappings":"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","sources":["webpack://frontend/./src/views/AdminView.vue","webpack://frontend/./src/views/AdminView.vue?e347"],"sourcesContent":["<template>\r\n  <div class=\"admin-container\">\r\n    <h1>üé≠ Contest Admin</h1>\r\n\r\n    <div class=\"card\">\r\n      <label>Costume name</label>\r\n      <input v-model=\"name\" placeholder=\"e.g. Pirate\" />\r\n\r\n      <label>Category</label>\r\n      <select v-model=\"category\">\r\n        <option :value=\"1\">Category 1</option>\r\n        <option :value=\"2\">Category 2</option>\r\n        <option :value=\"3\">Category 3</option>\r\n      </select>\r\n\r\n      <label>Image</label>\r\n      <input type=\"file\" accept=\"image/*\" @change=\"onFileChange\" />\r\n\r\n      <img v-if=\"preview\" :src=\"preview\" class=\"preview\" />\r\n\r\n      <button\r\n        class=\"primary\"\r\n        :disabled=\"!canSubmit\"\r\n        @click=\"addCostume\"\r\n      >\r\n        Add costume\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"card danger\">\r\n      <button class=\"danger-btn\" @click=\"conclude\">\r\n        ‚ùå Conclude contest\r\n      </button>\r\n    </div>\r\n\r\n    <div class=\"card\">\r\n      <h2>Preview</h2>\r\n\r\n      <div\r\n        v-for=\"cat in [1,2,3]\"\r\n        :key=\"cat\"\r\n        class=\"preview-category\"\r\n      >\r\n        <h3>Category {{ cat }}</h3>\r\n        <ul>\r\n          <li\r\n            v-for=\"c in store.getCostumesByCategory(cat)\"\r\n            :key=\"c.id\"\r\n          >\r\n            {{ c.name }} ({{ c.votes }} votes)\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { useCompleteStore } from '@/store/store';\r\n\r\nexport default {\r\n  name: 'AdminView',\r\n\r\n  data() {\r\n    return {\r\n      name: '',\r\n      category: 1,\r\n      image: null,\r\n      preview: null\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    store() {\r\n      return useCompleteStore();\r\n    },\r\n    canSubmit() {\r\n      return this.name && this.image && !this.store.isContestConcluded;\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.store.loadContestFromLocalStorage();\r\n  },\r\n\r\n  methods: {\r\n    onFileChange(e) {\r\n      const file = e.target.files[0];\r\n      if (!file) return;\r\n\r\n      const img = new Image();\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = (event) => {\r\n        img.src = event.target.result;\r\n      };\r\n\r\n      img.onload = () => {\r\n        const MAX_WIDTH = 800;\r\n        const scale = MAX_WIDTH / img.width;\r\n\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = MAX_WIDTH;\r\n        canvas.height = img.height * scale;\r\n\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\r\n        const compressedBase64 = canvas.toDataURL('image/jpeg', 0.7);\r\n\r\n        this.image = compressedBase64;\r\n        this.preview = compressedBase64;\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n    },\r\n\r\n    addCostume() {\r\n      this.store.addCostume({\r\n        category: this.category,\r\n        name: this.name,\r\n        image: this.image\r\n      });\r\n\r\n      this.name = '';\r\n      this.image = null;\r\n      this.preview = null;\r\n    },\r\n\r\n    conclude() {\r\n      if (!confirm('This will stop all voting. Continue?')) return;\r\n      this.store.concludeContest();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-container {\r\n  padding: 16px;\r\n  max-width: 480px;\r\n  margin: 0 auto;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  margin-bottom: 16px;\r\n}\r\n\r\n.card {\r\n  background: #111;\r\n  color: #111;\r\n  padding: 16px;\r\n  border-radius: 12px;\r\n  margin-bottom: 16px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-top: 12px;\r\n  font-size: 0.9rem;\r\n}\r\n\r\ninput,\r\nselect {\r\n  width: 100%;\r\n  padding: 12px;\r\n  margin-top: 4px;\r\n  border-radius: 8px;\r\n  border: none;\r\n}\r\n\r\n.preview {\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  border-radius: 12px;\r\n}\r\n\r\n.primary {\r\n  width: 100%;\r\n  margin-top: 16px;\r\n  padding: 14px;\r\n  font-size: 1.1rem;\r\n  border-radius: 12px;\r\n  border: none;\r\n  background: #4caf50;\r\n  color: white;\r\n}\r\n\r\n.primary:disabled {\r\n  opacity: 0.4;\r\n}\r\n\r\n.danger {\r\n  background: #220000;\r\n}\r\n\r\n.danger-btn {\r\n  width: 100%;\r\n  padding: 14px;\r\n  font-size: 1.1rem;\r\n  border-radius: 12px;\r\n  border: none;\r\n  background: #ff3333;\r\n  color: white;\r\n}\r\n\r\n.preview-category h3 {\r\n  margin-top: 12px;\r\n}\r\n\r\nul {\r\n  padding-left: 16px;\r\n}\r\n</style>\r\n","import { render } from \"./AdminView.vue?vue&type=template&id=32144a54&scoped=true\"\nimport script from \"./AdminView.vue?vue&type=script&lang=js\"\nexport * from \"./AdminView.vue?vue&type=script&lang=js\"\n\nimport \"./AdminView.vue?vue&type=style&index=0&id=32144a54&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-32144a54\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","value","_hoisted_6","_hoisted_7","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$data","name","$event","placeholder","_hoisted_5","category","_hoisted_10","type","accept","onChange","_cache","args","$options","onFileChange","preview","src","disabled","canSubmit","onClick","addCostume","_hoisted_12","_hoisted_13","conclude","_hoisted_14","_hoisted_15","_Fragment","_renderList","cat","key","_toDisplayString","store","getCostumesByCategory","c","id","votes","data","image","computed","useCompleteStore","this","isContestConcluded","mounted","loadContestFromLocalStorage","methods","e","file","target","files","img","Image","reader","FileReader","onload","event","result","MAX_WIDTH","scale","width","canvas","document","createElement","height","ctx","getContext","drawImage","compressedBase64","toDataURL","readAsDataURL","confirm","concludeContest","__exports__","render"],"sourceRoot":""}