{"version":3,"file":"js/category1.1f6d84f1.js","mappings":"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","sources":["webpack://frontend/./src/views/CategoryBase.vue","webpack://frontend/./src/views/CategoryBase.vue?432e","webpack://frontend/./src/views/CategoryOne.vue"],"sourcesContent":["<template>\n  <div class=\"category-container\">\n    <div\n      class=\"slider\"\n      @touchstart=\"onTouchStart\"\n      @touchend=\"onTouchEnd\"\n    >\n      <transition name=\"slide\" mode=\"out-in\">\n        <div v-if=\"currentPageCostumes.length\" :key=\"pageIndex\" class=\"card\">\n          <div class=\"grid\">\n            <button\n              v-for=\"(costume, idx) in currentPageCostumes\"\n              :key=\"costume.id\"\n              class=\"photo-tile\"\n              :class=\"{\n                selected: idx === selectedIndex,\n                voted: costume.id === votedSelectionId\n              }\"\n              @click=\"selectCostume(idx)\"\n            >\n              <img\n                :src=\"costume.image\"\n                class=\"tile-image\"\n                alt=\"Costume\"\n              />\n              <div class=\"tile-name\">{{ costume.name }}</div>\n            </button>\n          </div>\n        </div>\n\n        <div v-else :key=\"'empty'\" class=\"card empty-card\">\n          No entries\n        </div>\n      </transition>\n\n      <div v-if=\"totalPages > 1\" class=\"page-indicator\">\n        {{ pageIndex + 1 }} / {{ totalPages }}\n      </div>\n\n      <div class=\"name\" v-if=\"currentCostume\">\n        Selected: {{ currentCostume.name }}\n      </div>\n    </div>\n\r\n    <div class=\"like-wrapper\" style=\"position: relative; display: inline-block;\">\r\n    <button\r\n        class=\"like-button\"\r\n        :disabled=\"isConcluded || hasVoted\"\r\n        @click=\"like\"\r\n    >\r\n        &#x2764;&#xFE0F; Like\r\n    </button>\r\n\r\n    <span\r\n        v-if=\"showHeart\"\r\n        class=\"heart-animation\"\r\n    >&#x2764;&#xFE0F;</span>\r\n    </div>\r\n\r\n    <div class=\"nav-buttons\">\n      <button\n        v-if=\"prevRoute\"\n        class=\"nav-button\"\n        @click=\"$router.push(prevRoute)\"\n      >\n        &#x2190; Previous category\n      </button>\n\n      <button\n        v-if=\"nextRoute\"\n        class=\"nav-button\"\n        @click=\"$router.push(nextRoute)\"\n      >\n        Next category &#x2192;\n      </button>\n    </div>\n  </div>\n</template>\n\r\n<script>\r\nimport { useCompleteStore } from '@/store/store';\r\n\r\nexport default {\r\n  name: 'CategoryBase',\r\n\r\n  props: {\r\n    category: {\r\n      type: Number,\r\n      required: true\r\n    },\r\n    nextRoute: {\n      type: String,\n      default: null\n    },\n    prevRoute: {\n      type: String,\n      default: null\n    }\n  },\n\r\n  data() {\n    return {\n      pageIndex: 0,\n      selectedIndex: 0,\n      touchStartX: 0,\n      showHeart: false,\n    };\n  },\n\r\n  computed: {\r\n    store() {\r\n      return useCompleteStore();\r\n    },\r\n    costumes() {\n      return this.store.getCostumesByCategory(this.category);\n    },\n    pages() {\n      const chunkSize = 4;\n      const pages = [];\n\n      for (let i = 0; i < this.costumes.length; i += chunkSize) {\n        pages.push(this.costumes.slice(i, i + chunkSize));\n      }\n\n      return pages;\n    },\n    totalPages() {\n      return this.pages.length;\n    },\n    currentPageCostumes() {\n      return this.pages[this.pageIndex] || [];\n    },\n    currentCostume() {\n      return this.currentPageCostumes[this.selectedIndex];\n    },\n    votedSelectionId() {\n      return this.store.getVotedSelections[this.category];\n    },\n    isConcluded() {\n      return this.store.isContestConcluded;\n    },\n    hasVoted() {\n        return this.store.hasVotedInCategory(this.category);\n    }\n  },\n\n  mounted() {\n    this.store.loadContestFromFirebase();\n  },\n\n  methods: {\n    selectCostume(index) {\n      this.selectedIndex = index;\n    },\n\n    like() {\n        if (!this.currentCostume) return;\n        if (this.hasVoted) return;\n\r\n        this.store.voteForCostume(this.category, this.currentCostume.id);\n        this.store.markCategoryLiked(this.category, this.currentCostume.id);\n\r\n        // Herz-Animation\r\n        this.showHeart = true;\r\n        setTimeout(() => {\r\n            this.showHeart = false;\r\n        }, 1000);\r\n    },\r\n\r\n    onTouchStart(e) {\r\n      this.touchStartX = e.changedTouches[0].clientX;\r\n    },\r\n\r\n    onTouchEnd(e) {\n      const deltaX = e.changedTouches[0].clientX - this.touchStartX;\n\n      if (Math.abs(deltaX) < 50) return;\n\n      if (deltaX < 0 && this.pageIndex < this.totalPages - 1) {\n        this.pageIndex++;\n        this.selectedIndex = 0;\n      }\n\n      if (deltaX > 0 && this.pageIndex > 0) {\n        this.pageIndex--;\n        this.selectedIndex = 0;\n      }\n    }\n  },\n\n  watch: {\n    costumes() {\n      if (this.pageIndex >= this.totalPages) {\n        this.pageIndex = 0;\n      }\n      this.selectedIndex = 0;\n    },\n    votedSelectionId: {\n      handler() {\n        if (!this.votedSelectionId) return;\n        const flat = this.pages.flat();\n        const idx = flat.findIndex((c) => c.id === this.votedSelectionId);\n        if (idx === -1) return;\n\n        const page = Math.floor(idx / 4);\n        const localIndex = idx % 4;\n        this.pageIndex = page;\n        this.selectedIndex = localIndex;\n      },\n      immediate: true\n    }\n  }\n};\n</script>\n\n<style scoped>\n.category-container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  background: radial-gradient(circle at top, #fff3c4, #ffe0ef 45%, #d7f0ff);\n  color: #111;\n  padding: 16px;\n}\n\n.slider {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  max-width: 520px;\n  width: 100%;\n  margin: 0 auto;\n}\n\n.card {\n  width: 100%;\n  background: rgba(255, 255, 255, 0.92);\n  border-radius: 20px;\n  padding: 16px;\n  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);\n}\n\n.empty-card {\n  text-align: center;\n  padding: 40px 16px;\n  font-weight: 600;\n  color: #555;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 12px;\n}\n\n.photo-tile {\n  border: none;\n  padding: 0;\n  background: #fff;\n  border-radius: 16px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.12);\n  transition: transform 0.2s ease, box-shadow 0.2s ease, outline 0.2s ease;\n}\n\n.photo-tile.selected {\n  outline: 3px solid #ff7a59;\n  transform: translateY(-2px);\n  box-shadow: 0 16px 30px rgba(255, 122, 89, 0.3);\n}\n\n.photo-tile.voted {\n  outline: 3px solid #2563eb;\n  box-shadow: 0 16px 30px rgba(37, 99, 235, 0.3);\n}\n\n.tile-image {\n  width: 100%;\n  aspect-ratio: 1 / 1;\n  object-fit: cover;\n}\n\n.tile-name {\n  font-size: 0.85rem;\n  font-weight: 600;\n  padding: 8px 10px 10px;\n  color: #111;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0), #fff 40%);\n}\n\n.name {\n  margin-top: 12px;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #333;\n}\n\n.page-indicator {\n  margin-top: 12px;\n  font-size: 0.9rem;\n  color: #555;\n  background: rgba(255, 255, 255, 0.8);\n  padding: 6px 12px;\n  border-radius: 999px;\n}\n\n.like-button {\n  margin: 12px;\n  padding: 16px;\n  font-size: 1.4rem;\n  border-radius: 12px;\n  border: none;\n  background: #ff3366;\n  color: white;\n}\n\n.like-button:disabled {\n  opacity: 0.5;\n}\n\n.nav-buttons {\n  display: flex;\n  gap: 12px;\n  margin: 12px;\n}\n\n.nav-button {\n  flex: 1;\n  padding: 14px;\n  font-size: 1rem;\n  border-radius: 12px;\n  border: none;\n  background: #222;\n  color: white;\n}\n\r\n.like-wrapper {\r\n  position: relative;\r\n}\r\n\r\n.heart-animation {\r\n  position: absolute;\r\n  top: -30px;\r\n  left: 50%;\r\n  transform: translateX(-50%) scale(1);\r\n  font-size: 2.4rem;\r\n  color: #ff3366;\r\n  animation: popHeart 1s forwards;\r\n  pointer-events: none; /* Klicks durchlassen */\r\n}\r\n\r\n@keyframes popHeart {\n  0% {\n    opacity: 1;\n    transform: translateX(-50%) scale(0.5);\n  }\n  50% {\n    opacity: 1;\r\n    transform: translateX(-50%) scale(1.4);\r\n  }\r\n  100% {\n    opacity: 0;\n    transform: translateX(-50%) scale(1.8);\n  }\n}\n\n.slide-enter-active,\n.slide-leave-active {\n  transition: transform 0.25s ease, opacity 0.25s ease;\n}\n\n.slide-enter-from {\n  transform: translateX(40px);\n  opacity: 0;\n}\n\n.slide-leave-to {\n  transform: translateX(-40px);\n  opacity: 0;\n}\n</style>\n\r\n","import { render } from \"./CategoryBase.vue?vue&type=template&id=87647a74&scoped=true\"\nimport script from \"./CategoryBase.vue?vue&type=script&lang=js\"\nexport * from \"./CategoryBase.vue?vue&type=script&lang=js\"\n\nimport \"./CategoryBase.vue?vue&type=style&index=0&id=87647a74&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-87647a74\"]])\n\nexport default __exports__","import script from \"./CategoryOne.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CategoryOne.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["class","key","style","_createElementBlock","_hoisted_1","_createElementVNode","onTouchstart","_cache","args","$options","onTouchStart","onTouchend","onTouchEnd","_createVNode","_Transition","name","mode","currentPageCostumes","length","$data","pageIndex","_hoisted_2","_Fragment","_renderList","costume","idx","id","_normalizeClass","selectedIndex","votedSelectionId","onClick","$event","selectCostume","src","image","alt","_hoisted_5","_toDisplayString","_hoisted_6","totalPages","_hoisted_7","currentCostume","_hoisted_8","_hoisted_9","disabled","isConcluded","hasVoted","like","_hoisted_10","showHeart","_hoisted_11","_hoisted_12","$props","prevRoute","_ctx","$router","push","nextRoute","props","category","type","Number","required","String","default","data","touchStartX","computed","store","useCompleteStore","costumes","this","getCostumesByCategory","pages","chunkSize","i","slice","getVotedSelections","isContestConcluded","hasVotedInCategory","mounted","loadContestFromFirebase","methods","index","voteForCostume","markCategoryLiked","setTimeout","e","changedTouches","clientX","deltaX","Math","abs","watch","handler","flat","findIndex","c","page","floor","localIndex","immediate","__exports__","render"],"ignoreList":[],"sourceRoot":""}