{"version":3,"file":"js/category3.c7b790e3.js","mappings":"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","sources":["webpack://frontend/./src/views/CategoryThree.vue","webpack://frontend/./src/views/CategoryBase.vue","webpack://frontend/./src/views/CategoryBase.vue?432e"],"sourcesContent":["import script from \"./CategoryThree.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CategoryThree.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"category-container\">\n    <div\n      class=\"slider\"\n      @touchstart=\"onTouchStart\"\n      @touchend=\"onTouchEnd\"\n    >\n      <transition name=\"slide\" mode=\"out-in\">\n        <div v-if=\"currentPageCostumes.length\" :key=\"pageIndex\" class=\"card\">\n          <div class=\"category-title\">\n            {{ categoryTitle }}\n          </div>\n          <div class=\"grid\">\n            <button\n              v-for=\"(costume, idx) in currentPageCostumes\"\n              :key=\"costume.id\"\n              class=\"photo-tile\"\n              :class=\"{\n                selected: idx === selectedIndex,\n                voted: costume.id === votedSelectionId\n              }\"\n              @click=\"selectCostume(idx)\"\n            >\n              <img\n                :src=\"costume.image\"\n                class=\"tile-image\"\n                alt=\"Costume\"\n              />\n              <div class=\"tile-name\">{{ costume.name }}</div>\n            </button>\n          </div>\n        </div>\n\n        <div v-else :key=\"'empty'\" class=\"card empty-card\">\n          <div class=\"category-title\">\n            {{ categoryTitle }}\n          </div>\n          No entries\n        </div>\n      </transition>\n\n      <div v-if=\"totalPages > 1\" class=\"page-indicator\">\n        {{ pageIndex + 1 }} / {{ totalPages }}\n      </div>\n\n      <div class=\"name\" v-if=\"currentCostume\">\n        Ausgewählt: {{ currentCostume.name }}\n      </div>\n    </div>\n\n    <div class=\"like-wrapper\" style=\"position: relative; display: inline-block;\">\n    <button\n        class=\"like-button\"\n        :disabled=\"isConcluded || hasVoted\"\n        @click=\"like\"\n    >\n        &#x2764;&#xFE0F; Like\n    </button>\n\n    <span\n        v-if=\"showHeart\"\n        class=\"heart-animation\"\n    >&#x2764;&#xFE0F;</span>\n    </div>\n\n    <div class=\"nav-buttons\">\n      <button\n        v-if=\"prevRoute\"\n        class=\"nav-button\"\n        @click=\"$router.push(prevRoute)\"\n      >\n        &#x2190; Zurück\n       </button>\n\n      <button\n        v-if=\"nextRoute\"\n        class=\"nav-button\"\n        @click=\"$router.push(nextRoute)\"\n      >\n        Weiter &#x2192;\n      </button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useCompleteStore } from '@/store/store';\n\nexport default {\n  name: 'CategoryBase',\n\n  props: {\n    category: {\n      type: Number,\n      required: true\n    },\n    nextRoute: {\n      type: String,\n      default: null\n    },\n    prevRoute: {\n      type: String,\n      default: null\n    }\n  },\n\n  data() {\n    return {\n      pageIndex: 0,\n      selectedIndex: 0,\n      touchStartX: 0,\n      showHeart: false,\n    };\n  },\n\n  computed: {\n    store() {\n      return useCompleteStore();\n    },\n    costumes() {\n      return this.store.getCostumesByCategory(this.category);\n    },\n    pages() {\n      const chunkSize = 4;\n      const pages = [];\n\n      for (let i = 0; i < this.costumes.length; i += chunkSize) {\n        pages.push(this.costumes.slice(i, i + chunkSize));\n      }\n\n      return pages;\n    },\n    totalPages() {\n      return this.pages.length;\n    },\n    currentPageCostumes() {\n      return this.pages[this.pageIndex] || [];\n    },\n    currentCostume() {\n      return this.currentPageCostumes[this.selectedIndex];\n    },\n    votedSelectionId() {\n      return this.store.getVotedSelections[this.category];\n    },\n    isConcluded() {\n      return this.store.isContestConcluded;\n    },\n    hasVoted() {\n        return this.store.hasVotedInCategory(this.category);\n    },\n    categoryTitle() {\n      if (this.category === 1) return 'Bestes Einzelkost\\u00FCm';\n      if (this.category === 2) return 'Bestes Gruppenkost\\u00FCm';\n      if (this.category === 3) return 'Kreativstes Kost\\u00FCm';\n      return `Category ${this.category}`;\n    }\n  },\n\n  mounted() {\n    this.store.loadContestFromFirebase();\n  },\n\n  methods: {\n    selectCostume(index) {\n      this.selectedIndex = index;\n    },\n\n    like() {\n        if (!this.currentCostume) return;\n        if (this.hasVoted) return;\n\n        this.store.voteForCostume(this.category, this.currentCostume.id);\n        this.store.markCategoryLiked(this.category, this.currentCostume.id);\n\n        // Herz-Animation\n        this.showHeart = true;\n        setTimeout(() => {\n            this.showHeart = false;\n        }, 1000);\n    },\n\n    onTouchStart(e) {\n      this.touchStartX = e.changedTouches[0].clientX;\n    },\n\n    onTouchEnd(e) {\n      const deltaX = e.changedTouches[0].clientX - this.touchStartX;\n\n      if (Math.abs(deltaX) < 50) return;\n\n      if (deltaX < 0 && this.pageIndex < this.totalPages - 1) {\n        this.pageIndex++;\n        this.selectedIndex = 0;\n      }\n\n      if (deltaX > 0 && this.pageIndex > 0) {\n        this.pageIndex--;\n        this.selectedIndex = 0;\n      }\n    }\n  },\n\n  watch: {\n    costumes() {\n      if (this.pageIndex >= this.totalPages) {\n        this.pageIndex = 0;\n      }\n      this.selectedIndex = 0;\n    },\n    votedSelectionId: {\n      handler() {\n        if (!this.votedSelectionId) return;\n        const flat = this.pages.flat();\n        const idx = flat.findIndex((c) => c.id === this.votedSelectionId);\n        if (idx === -1) return;\n\n        const page = Math.floor(idx / 4);\n        const localIndex = idx % 4;\n        this.pageIndex = page;\n        this.selectedIndex = localIndex;\n      },\n      immediate: true\n    }\n  }\n};\n</script>\n\n<style scoped>\n.category-container {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  background: radial-gradient(circle at top, #fff3c4, #ffe0ef 45%, #d7f0ff);\n  color: #111;\n  padding: 16px;\n}\n\n.slider {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  max-width: 520px;\n  width: 100%;\n  margin: 0 auto;\n}\n\n.card {\n  width: 100%;\n  background: rgba(255, 255, 255, 0.92);\n  border-radius: 20px;\n  padding: 16px;\n  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);\n}\n\n.category-title {\n  margin-bottom: 12px;\n  font-size: 1.2rem;\n  font-weight: 700;\n  color: #111;\n}\n\n.empty-card {\n  text-align: center;\n  padding: 40px 16px;\n  font-weight: 600;\n  color: #555;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 12px;\n}\n\n.photo-tile {\n  border: none;\n  padding: 0;\n  background: #fff;\n  border-radius: 16px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n  box-shadow: 0 10px 24px rgba(0, 0, 0, 0.12);\n  transition: transform 0.2s ease, box-shadow 0.2s ease, outline 0.2s ease;\n}\n\n.photo-tile.selected {\n  outline: 3px solid #ff7a59;\n  transform: translateY(-2px);\n  box-shadow: 0 16px 30px rgba(255, 122, 89, 0.3);\n}\n\n.photo-tile.voted {\n  outline: 3px solid #2563eb;\n  box-shadow: 0 16px 30px rgba(37, 99, 235, 0.3);\n}\n\n.tile-image {\n  width: 100%;\n  aspect-ratio: 1 / 1;\n  object-fit: cover;\n}\n\n.tile-name {\n  font-size: 0.85rem;\n  font-weight: 600;\n  padding: 8px 10px 10px;\n  color: #111;\n  background: linear-gradient(180deg, rgba(255, 255, 255, 0), #fff 40%);\n}\n\n.name {\n  margin-top: 12px;\n  font-size: 1rem;\n  font-weight: 600;\n  color: #333;\n}\n\n.page-indicator {\n  margin-top: 12px;\n  font-size: 0.9rem;\n  color: #555;\n  background: rgba(255, 255, 255, 0.8);\n  padding: 6px 12px;\n  border-radius: 999px;\n}\n\n.like-button {\n  margin: 12px;\n  padding: 16px;\n  font-size: 1.4rem;\n  border-radius: 12px;\n  border: none;\n  background: #ff3366;\n  color: white;\n}\n\n.like-button:disabled {\n  opacity: 0.5;\n}\n\n.nav-buttons {\n  display: flex;\n  gap: 12px;\n  margin: 12px;\n}\n\n.nav-button {\n  flex: 1;\n  padding: 14px;\n  font-size: 1rem;\n  border-radius: 12px;\n  border: none;\n  background: #222;\n  color: white;\n}\n\n.like-wrapper {\n  position: relative;\n}\n\n.heart-animation {\n  position: absolute;\n  top: -30px;\n  left: 50%;\n  transform: translateX(-50%) scale(1);\n  font-size: 2.4rem;\n  color: #ff3366;\n  animation: popHeart 1s forwards;\n  pointer-events: none; /* Klicks durchlassen */\n}\n\n@keyframes popHeart {\n  0% {\n    opacity: 1;\n    transform: translateX(-50%) scale(0.5);\n  }\n  50% {\n    opacity: 1;\n    transform: translateX(-50%) scale(1.4);\n  }\n  100% {\n    opacity: 0;\n    transform: translateX(-50%) scale(1.8);\n  }\n}\n\n.slide-enter-active,\n.slide-leave-active {\n  transition: transform 0.25s ease, opacity 0.25s ease;\n}\n\n.slide-enter-from {\n  transform: translateX(40px);\n  opacity: 0;\n}\n\n.slide-leave-to {\n  transform: translateX(-40px);\n  opacity: 0;\n}\n</style>\n","import { render } from \"./CategoryBase.vue?vue&type=template&id=04147597&scoped=true\"\nimport script from \"./CategoryBase.vue?vue&type=script&lang=js\"\nexport * from \"./CategoryBase.vue?vue&type=script&lang=js\"\n\nimport \"./CategoryBase.vue?vue&type=style&index=0&id=04147597&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-04147597\"]])\n\nexport default __exports__"],"names":["__exports__","class","key","style","_createElementBlock","_hoisted_1","_createElementVNode","onTouchstart","_cache","args","$options","onTouchStart","onTouchend","onTouchEnd","_createVNode","_Transition","name","mode","currentPageCostumes","length","$data","pageIndex","_hoisted_2","_toDisplayString","categoryTitle","_hoisted_3","_Fragment","_renderList","costume","idx","id","_normalizeClass","selectedIndex","votedSelectionId","onClick","$event","selectCostume","src","image","alt","_hoisted_6","_hoisted_7","_hoisted_8","totalPages","_hoisted_9","currentCostume","_hoisted_10","_hoisted_11","disabled","isConcluded","hasVoted","like","_hoisted_12","showHeart","_hoisted_13","_hoisted_14","$props","prevRoute","_ctx","$router","push","nextRoute","props","category","type","Number","required","String","default","data","touchStartX","computed","store","useCompleteStore","costumes","this","getCostumesByCategory","pages","chunkSize","i","slice","getVotedSelections","isContestConcluded","hasVotedInCategory","mounted","loadContestFromFirebase","methods","index","voteForCostume","markCategoryLiked","setTimeout","e","changedTouches","clientX","deltaX","Math","abs","watch","handler","flat","findIndex","c","page","floor","localIndex","immediate","render"],"ignoreList":[],"sourceRoot":""}