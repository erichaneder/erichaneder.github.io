{"version":3,"file":"js/register.49b881d0.js","mappings":"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","sources":["webpack://frontend/./src/components/molecules/FormComponent.vue","webpack://frontend/./src/components/atoms/InputField.vue","webpack://frontend/./src/components/atoms/InputField.vue?863a","webpack://frontend/./src/components/molecules/FormComponent.vue?e1e5","webpack://frontend/./src/components/pages/RegisterView.vue","webpack://frontend/./src/components/pages/RegisterView.vue?c2bf"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"submit\">\r\n    \r\n    <div v-if=\"specialSalutation\">\r\n      <!-- Salutation Select Field -->\r\n      <div class=\"mb-4\">\r\n        <label for=\"salutation\" class=\"block text-sm mb-1\">Salutation:</label>\r\n        <select id=\"salutation\" v-model=\"formData.salutation\" @blur=\"validateField(formData.salutation, 'salutation')\" class=\"w-full h-10 px-2 border rounded\">\r\n          <option value=\"Male\">Male</option>\r\n          <option value=\"Female\">Female</option>\r\n          <option value=\"Other\">Other</option>\r\n        </select>\r\n        <div class=\"text-red-500\" v-if=\"fieldErrors.salutation\">{{ fieldErrors.salutation }}</div>\r\n      </div>\r\n\r\n      <!-- Detailed Information Field (Shown if Salutation is 'other') -->\r\n      <div v-if=\"formData.salutation === 'Other'\" class=\"mb-4\">\r\n        <label for=\"otherInfo\" class=\"block text-sm mb-1\">Other Information:</label>\r\n        <input type=\"text\" id=\"otherInfo\" @blur=\"validateField(formData.otherInfo, 'otherInfo')\" v-model=\"formData.otherInfo\" maxlength=\"30\" class=\"w-full h-10 px-2 border rounded\">\r\n        <div class=\"text-red-500\" v-if=\"fieldErrors.otherInfo\">{{ fieldErrors.otherInfo }}</div>\r\n      </div>\r\n    </div>\r\n    \r\n\r\n    <InputField\r\n      v-for=\"field in formFields\"\r\n      :key=\"field.id\"\r\n      :id=\"field.id\"\r\n      :type=\"field.type\"\r\n      :label=\"field.label\"\r\n      :placeholder=\"field.placeholder\"\r\n      v-model=\"formData[field.id]\"\r\n      :validateField=\"(value) => validateField(value, field.id)\"\r\n      :error=\"fieldErrors[field.id]\"\r\n      :options=\"field.options\"\r\n    />\r\n    <slot></slot> <!-- slot for submit button -->\r\n  </form>\r\n</template>\r\n\r\n<!--Falls mal nebeneinander zum displayn is : <div class=\"flex space-x-4\"> -->\r\n\r\n<script>\r\nimport InputField from \"@/components/atoms/InputField.vue\";\r\n\r\nexport default {\r\ncomponents: {\r\n  InputField\r\n},\r\nprops: {\r\n    formFields: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    formSchema: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    initialFormData: {\r\n      type: Object,\r\n      required: true\r\n    },\r\n    specialSalutation: {\r\n      type: Boolean,\r\n      required: true\r\n    }\r\n  },\r\ndata() {\r\n  return {\r\n    formData: this.initialFormData,\r\n    fieldErrors: {}\r\n  };\r\n},\r\nmethods: {\r\n  validateField(value, fieldName) {\r\n    console.log(\"Field: \" +fieldName+\", Value: \"+value);\r\n    this.formSchema.validateAt(fieldName, { ...this.formData, [fieldName]: value })\r\n        .then(() => {\r\n          this.fieldErrors[fieldName] = null;\r\n          // If the password field is updated, also validate password2 hack\r\n          if (fieldName === 'password') {\r\n          this.validateField(this.formData.password2, 'password2');\r\n        }\r\n        })\r\n        .catch(error => {\r\n        if (fieldName === 'password2' && !this.formData.password2) { //this is needed hack\r\n          // Clear the error for 'password2' if it's empty\r\n          this.fieldErrors[fieldName] = null;\r\n        } else {\r\n          // Set the error for other cases\r\n          this.fieldErrors[fieldName] = error.message;\r\n        }\r\n        });\r\n  },\r\n  submit() {\r\n    console.log(\"FormData: \" + JSON.stringify(this.formData));\r\n    this.formSchema.validate(this.formData, { abortEarly: false })\r\n      .then(() => {\r\n        this.$emit('formSubmit', this.formData);\r\n      })\r\n      .catch(error => {\r\n        error.inner.forEach(err => {\r\n          console.log(\"Validation failed! \"+ err.message);\r\n          this.fieldErrors[err.path] = err.message;\r\n        });\r\n      });\r\n  }\r\n}\r\n};\r\n</script>\r\n","<template>\r\n  <div class=\"mb-4\">\r\n    <label :for=\"id\" class=\"block text-sm mb-1\">{{ label }}:</label>\r\n    <!-- Render a select dropdown for 'select' type -->\r\n    <select v-if=\"type === 'select'\" :id=\"id\" @blur=\"handleBlur\" :value=\"modelValue\" @change=\"$emit('update:modelValue', $event.target.value)\" class=\"w-full h-10 px-2 border rounded\">\r\n      <option v-for=\"option in options\" :key=\"option.value\" :value=\"option.value\">{{ option.label }}</option>\r\n    </select>\r\n\r\n    <!-- Render an input field for other types -->\r\n    <input v-else :type=\"type\" :id=\"id\" @blur=\"handleBlur\" :value=\"modelValue\" @input=\"$emit('update:modelValue', $event.target.value)\" :placeholder=\"placeholder\" class=\"w-full h-10 px-2 border rounded\" />\r\n\r\n    <div class=\"text-red-500\" v-if=\"error\">{{ error }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    id: String,\r\n    modelValue: String,\r\n    label: String,\r\n    type: String,\r\n    placeholder: String,\r\n    validateField: Function,\r\n    error: String,\r\n    options: Array\r\n  },\r\n  methods: {\r\n    handleBlur(event) {\r\n      const newValue = event.target.value;\r\n      // Emit the updated value to the parent component\r\n      this.$emit('update:modelValue', newValue);\r\n\r\n      // Call validation function if provided\r\n      if (this.validateField) {\r\n        this.validateField(newValue);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import { render } from \"./InputField.vue?vue&type=template&id=0dfe3abc\"\nimport script from \"./InputField.vue?vue&type=script&lang=js\"\nexport * from \"./InputField.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./FormComponent.vue?vue&type=template&id=1f9dfba7\"\nimport script from \"./FormComponent.vue?vue&type=script&lang=js\"\nexport * from \"./FormComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"min-h-screen flex flex-col items-center\">\r\n    <div class=\"w-96 bg-white p-8 rounded shadow mt-20\">\r\n      <NormalHeading text=\"Register\" />\r\n      <div class=\"h-0.5 bg-gray-200 w-36 mx-auto mt-2.5 mb-4\"></div>\r\n      <FormComponent\r\n        :form-fields=\"formFields\"\r\n        :form-schema=\"registerValidationSchema\"\r\n        :initial-form-data=\"initialRegisterFormData\"\r\n        :special-salutation=\"true\"\r\n        @formSubmit=\"submit\"\r\n      >\r\n        <CustomButton customButtonStyle=\"w-full bg-teal-700 text-white p-2 rounded hover:bg-teal-500\">Register</CustomButton>\r\n      </FormComponent>\r\n    </div>\r\n  </div>\r\n\r\n  <ErrorModal \r\n    :isVisible=\"isErrorModalVisible\" \r\n    :errorMessage=\"errorMessage\"\r\n    @update:isVisible=\"isErrorModalVisible = $event\"\r\n  />\r\n</template>\r\n\r\n<script>\r\nimport CustomButton from '@/components/atoms/Button.vue';\r\nimport FormComponent from \"@/components/molecules/FormComponent.vue\";\r\nimport NormalHeading from \"@/components/atoms/NormalHeading.vue\";\r\nimport ErrorModal from '@/components/atoms/ErrorModal.vue'\r\nimport { useCompleteStore } from '@/store/store';\r\nimport { object, string, ref } from \"yup\";\r\n\r\nexport default {\r\n  components: {\r\n    FormComponent,\r\n    NormalHeading,\r\n    ErrorModal,\r\n    CustomButton\r\n  },\r\n  data() {\r\n    return {\r\n      isErrorModalVisible: false,\r\n      errorMessage: '',\r\n      store: useCompleteStore(),\r\n      formFields: [\r\n        { id: \"name\", type: \"text\", label: \"Name\", placeholder: \"Your Name\" },\r\n        { id: \"address\", type: \"text\", label: \"Address\", placeholder: \"Your Address\" },\r\n        { id: \"city\", type: \"text\", label: \"City\", placeholder: \"Your City\" },\r\n        { id: \"zip\", type: \"text\", label: \"Zip\", placeholder: \"Your Zip\" },\r\n        { id: \"country\", type: \"select\", label: \"Country\", placeholder: \"Your Country\",\r\n          options: [\r\n            { label: \"Austria (AT)\", value: \"AT\" },\r\n            { label: \"Germany (DE)\", value: \"DE\" },\r\n            { label: \"Switzerland (CH)\", value: \"CH\" },\r\n            { label: \"United States (US)\", value: \"US\" },\r\n            { label: \"Canada (CA)\", value: \"CA\" },\r\n            { label: \"United Kingdom (UK)\", value: \"UK\" },\r\n            { label: \"France (FR)\", value: \"FR\" },\r\n            { label: \"Spain (ES)\", value: \"ES\" },\r\n            { label: \"Japan (JP)\", value: \"JP\" },\r\n          ]\r\n        },\r\n        { id: \"email\", type: \"text\", label: \"Email\", placeholder: \"Your Email\" },\r\n        { id: \"password\", type: \"password\", label: \"Password\", placeholder: \"Your Password\" },\r\n        { id: \"password2\", type: \"password\", label: \"Repeat Passowrd\", placeholder: \"Repeat Password\" }\r\n      ],\r\n      registerValidationSchema: object().shape({\r\n        name: string().required('Name is required'),\r\n        salutation: string().required('Salutation is required'),\r\n        otherInfo: string().when('salutation', {\r\n          is: (val) => val === \"Other\",\r\n          then: (schema) => schema.required('Please specify your salutation')\r\n        }),\r\n        address: string().required('Address is required'),\r\n        city: string().required('City is required'),\r\n        zip: string().required('ZIP code is required'),\r\n        country: string().required('Country is required'),\r\n        email: string().email('Invalid email format').required('Email is required'),\r\n        password: string().required('Password is required!').min(12, 'Password must be min. 12 characters long').matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{12,}$/, 'Password must include uppercase, lowercase, numbers, and symbols'),\r\n        password2: string().oneOf([ref('password'), null], 'Passwords must match')\r\n      }),\r\n      initialRegisterFormData: {\r\n        salutation: '',\r\n        otherInfo: '',\r\n        name: '',\r\n        address: '',\r\n        city: '',\r\n        zip: '',\r\n        country: '',\r\n        email: '',\r\n        password: '',\r\n        password2: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    async submit(formData) {\r\n\r\n      const payload = {\r\n        salutation: formData.salutation===\"Other\"?formData.otherInfo:formData.salutation,\r\n        name: formData.name,\r\n        password: formData.password,\r\n        email: formData.email,\r\n        role: \"ROLE_CUSTOMER\",\r\n        phonenumber: \"+4322342234\",\r\n        address: {\r\n            street: formData.address, \r\n            zipcode: formData.zip,\r\n            city: formData.city,\r\n            country: formData.country\r\n        }\r\n      };\r\n      console.log(\"Sending this data:\", JSON.stringify(payload));\r\n\r\n      try {   \r\n        // Send formData to backend using fetch \r\n        const response = await fetch(\"http://localhost:8080/api/v1/user/signup\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify(payload),\r\n        });\r\n        \r\n        // Check if the response is successful\r\n        if (response.ok) {\r\n          console.log(\"Registration was successful!\");\r\n          const responseData = await response.json();\r\n          \r\n          localStorage.setItem(\"token\", responseData.token);\r\n          this.store.login({username: formData.email, role: responseData.role, userId: responseData.userid});\r\n          // Redirect to the home page\r\n          this.$router.push({ path: '/' });\r\n        } else {\r\n          const errorData = await response.json();\r\n          this.errorMessage = \"Error registering user: \"+errorData.message;\r\n          this.isErrorModalVisible = true;\r\n        }\r\n      } catch (error) {\r\n          console.error(\"Network error: \"+ error);\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n","import { render } from \"./RegisterView.vue?vue&type=template&id=b4d3300c\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","value","_hoisted_4","_hoisted_5","_hoisted_6","_createElementBlock","onSubmit","_cache","_withModifiers","args","$options","submit","$props","specialSalutation","_hoisted_1","_hoisted_2","_hoisted_3","id","$data","formData","salutation","$event","onBlur","validateField","fieldErrors","_hoisted_8","_toDisplayString","_hoisted_9","_hoisted_10","type","otherInfo","maxlength","_hoisted_11","_Fragment","_renderList","formFields","field","_createBlock","_component_InputField","key","label","placeholder","error","options","_renderSlot","_ctx","$slots","handleBlur","modelValue","onChange","$emit","target","option","onInput","props","String","Function","Array","methods","event","newValue","this","__exports__","components","InputField","required","formSchema","Object","initialFormData","Boolean","data","fieldName","console","log","validateAt","then","password2","catch","message","JSON","stringify","validate","abortEarly","inner","forEach","err","path","render","_createVNode","_component_NormalHeading","text","_component_FormComponent","registerValidationSchema","initialRegisterFormData","onFormSubmit","_component_CustomButton","customButtonStyle","_component_ErrorModal","isVisible","isErrorModalVisible","errorMessage","FormComponent","NormalHeading","ErrorModal","CustomButton","store","useCompleteStore","object","shape","name","string","when","is","val","schema","address","city","zip","country","email","password","min","matches","oneOf","ref","payload","role","phonenumber","street","zipcode","response","fetch","method","headers","body","ok","responseData","json","localStorage","setItem","token","login","username","userId","userid","$router","push","errorData"],"sourceRoot":""}