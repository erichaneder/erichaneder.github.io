{"version":3,"file":"js/register.b089139a.js","mappings":"sLAC0BA,MAAM,4E,GACrBA,MAAM,uC,GACNA,MAAM,0B,+BAFFC,EAAAC,YAAS,WAApBC,EAAAA,EAAAA,IAKM,MALNC,EAKM,EAJJC,EAAAA,EAAAA,GAGM,MAHNC,EAGM,EAFJD,EAAAA,EAAAA,GAAwD,IAAxDE,GAAwDC,EAAAA,EAAAA,IAAnBP,EAAAQ,cAAY,IACjDJ,EAAAA,EAAAA,GAAyF,UAAhFK,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,YAAAD,EAAAC,cAAAF,IAAYZ,MAAM,0CAAyC,eAAK,c,CAMtF,OACEe,MAAO,CACLb,UAAWc,QACXP,aAAcQ,QAEhBC,QAAS,CACPJ,UAAAA,GACEK,KAAKC,MAAM,oBAAoB,EACjC,I,QCbN,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O,2FCNStB,MAAM,Y,uEAAXG,EAAAA,EAAAA,IAEM,MAFNC,EAEM,EADJmB,EAAAA,EAAAA,IAAYC,I,UCDTxB,MAAM,2C,GACJA,MAAM,0C,GAETK,EAAAA,EAAAA,GAA8D,OAAzDL,MAAM,8CAA4C,S,GAErDK,EAAAA,EAAAA,GAA2G,UAAnGoB,KAAK,SAASzB,MAAM,+DAA8D,YAAQ,G,qJALxGK,EAAAA,EAAAA,GAQM,MARND,EAQM,EAPJC,EAAAA,EAAAA,GAMM,MANNC,EAMM,EALJiB,EAAAA,EAAAA,IAAiCG,EAAA,CAAlBC,KAAK,aACpBpB,GACAgB,EAAAA,EAAAA,IAEgBK,EAAA,CAFAC,aAAYhB,EAAAiB,QAAM,C,kBAChC,IAA2G,CAA3GC,K,8BAKNR,EAAAA,EAAAA,IAIES,EAAA,CAHC9B,UAAW+B,EAAAC,oBACXzB,aAAcwB,EAAAxB,aACd,qBAAgBE,EAAA,KAAAA,EAAA,GAAAwB,GAAEF,EAAAC,oBAAsBC,I,yECVpCnC,MAAM,kB,yEAHbG,EAAAA,EAAAA,IAWO,QAXAiC,SAAMzB,EAAA,KAAAA,EAAA,IAAA0B,EAAAA,EAAAA,KAAA,IAAAzB,IAAU0B,EAAAR,QAAAQ,EAAAR,UAAAlB,IAAM,e,EAC3BW,EAAAA,EAAAA,IAA2HgB,EAAA,C,WAAtGD,EAAAE,SAASC,K,qCAATH,EAAAE,SAASC,KAAIN,GAAEO,GAAG,OAAOC,MAAM,OAAQC,OAAQN,EAAAO,YAAYJ,KAAMhB,KAAK,OAAOqB,YAAY,a,iCAC9GvB,EAAAA,EAAAA,IAA0IgB,EAAA,C,WAArHD,EAAAE,SAASO,Q,qCAATT,EAAAE,SAASO,QAAOZ,GAAEO,GAAG,UAAUC,MAAM,UAAWC,OAAQN,EAAAO,YAAYE,QAAStB,KAAK,OAAOqB,YAAY,gB,iCAC1HzC,EAAAA,EAAAA,GAGM,MAHND,EAGM,EAFJmB,EAAAA,EAAAA,IAA2HgB,EAAA,C,WAAtGD,EAAAE,SAASQ,K,qCAATV,EAAAE,SAASQ,KAAIb,GAAEO,GAAG,OAAQE,OAAQN,EAAAO,YAAYG,KAAML,MAAM,OAAOlB,KAAK,OAAOqB,YAAY,a,iCAC9GvB,EAAAA,EAAAA,IAAsHgB,EAAA,C,WAAjGD,EAAAE,SAASS,I,qCAATX,EAAAE,SAASS,IAAGd,GAAEO,GAAG,MAAOE,OAAQN,EAAAO,YAAYI,IAAKN,MAAM,MAAMlB,KAAK,OAAOqB,YAAY,Y,mCAE5GvB,EAAAA,EAAAA,IAA0IgB,EAAA,C,WAArHD,EAAAE,SAASU,Q,qCAATZ,EAAAE,SAASU,QAAOf,GAAEO,GAAG,UAAWE,OAAQN,EAAAO,YAAYK,QAASP,MAAM,UAAUlB,KAAK,OAAOqB,YAAY,gB,iCAC1HvB,EAAAA,EAAAA,IAAiIgB,EAAA,C,WAA5GD,EAAAE,SAASW,M,qCAATb,EAAAE,SAASW,MAAKhB,GAAEO,GAAG,QAASE,OAAQN,EAAAO,YAAYM,MAAOR,MAAM,QAAQlB,KAAK,QAAQqB,YAAY,c,iCACnHvB,EAAAA,EAAAA,IAAmJgB,EAAA,C,WAA9HD,EAAAE,SAASY,S,qCAATd,EAAAE,SAASY,SAAQjB,GAAEO,GAAG,WAAYE,OAAQN,EAAAO,YAAYO,SAAUT,MAAM,WAAWlB,KAAK,WAAWqB,YAAY,iB,iCAClIO,EAAAA,EAAAA,IAAaC,EAAAC,OAAA,e,kCCVVvD,MAAM,Q,yDAGJA,MAAM,gB,0CAHbG,EAAAA,EAAAA,IAIM,MAJNC,EAIM,EAHJC,EAAAA,EAAAA,GAAgE,SAAxDmD,IAAKvD,EAAAyC,GAAI1C,MAAM,uB,QAAwBC,EAAA0C,OAAQ,IAAC,EAAArC,IACxDD,EAAAA,EAAAA,GAAkK,SAA1JoB,KAAMxB,EAAAwB,KAAOiB,GAAIzC,EAAAyC,GAAKe,QAAK9C,EAAA,KAAAA,EAAA,GAAAwB,GAAEG,EAAAoB,YAAYvB,IAAUwB,OAAIhD,EAAA,KAAAA,EAAA,OAAAC,IAAE0B,EAAAsB,UAAAtB,EAAAsB,YAAAhD,IAAWiD,MAAO5D,EAAA6D,WAAahB,YAAa7C,EAAA6C,YAAa9C,MAAM,mC,WAChGsC,EAAAyB,aAAU,WAA1C5D,EAAAA,EAAAA,IAAkE,MAAlE4B,GAAkEvB,EAAAA,EAAAA,IAAnB8B,EAAAyB,YAAU,qB,CAO7D,OACEhD,MAAO,CACL2B,GAAIzB,OACJ6C,WAAY7C,OACZ0B,MAAO1B,OACPQ,KAAMR,OACN6B,YAAa7B,OACb+C,WAAY,CACVvC,KAAMwC,OACNC,QAAS,OAGbC,KAAAA,CAAMpD,EAAOqD,GACT,MAAML,GAAaM,EAAAA,EAAAA,IAAI,MAEjBX,EAAeY,IACjBF,EAAQG,KAAK,oBAAqBD,EAAME,OAAOX,MAAM,EAGnDD,EAAWA,KACT7C,EAAMiD,YACNjD,EAAMiD,WAAWJ,SAAS7C,EAAM+C,YAC3BW,MAAK,KACFV,EAAWF,MAAQ,IAAI,IAE1Ba,OAAMC,IACHZ,EAAWF,MAAQc,EAAIC,QACvBR,EAAQG,KAAK,QAASR,EAAWF,MAAM,GAEnD,EAGJ,MAAO,CACHE,aACAL,cACAE,WAER,G,QC3CJ,MAAMvC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QFaE,GACEwD,WAAY,CACVC,WAAUA,GAEZX,KAAAA,CAAMpD,EAAOqD,GACT,MAAM5B,GAAW6B,EAAAA,EAAAA,IAAI,CACjB5B,KAAM,GACNM,QAAS,GACTC,KAAM,GACNC,IAAK,GACLC,QAAS,GACTC,MAAO,GACPC,SAAU,KAERP,GAAcwB,EAAAA,EAAAA,IAAI,CACtB5B,KAAM,KACNM,QAAS,KACTC,KAAM,KACNC,IAAK,KACLC,QAAS,KACTC,MAAO,KACPC,SAAU,OAGZ,SAAStB,IACP,MAAMiD,EAAWd,OAAOe,OAAOnC,EAAYgB,OAAOoB,MAAKC,GAASA,IAC3DH,EAKDI,QAAQC,IAAI,uBAJZD,QAAQC,IAAI,0BACZD,QAAQC,IAAI,sBAAuB5C,EAASqB,OAC5CO,EAAQG,KAAK,aAAc/B,EAASqB,OAI1C,CAEA,MAAO,CACHrB,WACAK,cACAf,SAER,GGvDJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,Q,oBJgBE,GACE+C,WAAY,CACVQ,cAAa,EACbC,cAAa,IACbC,WAAUA,EAAAA,GAEZC,IAAAA,GACE,MAAO,CACLtD,qBAAqB,EACrBzB,aAAc,GAElB,EACAS,QAAS,CACP,YAAMY,CAAOU,GAEX,MAAMiD,EAAU,CACdhD,KAAMD,EAASC,KACfW,SAAUZ,EAASY,SACnBD,MAAOX,EAASW,MAChBuC,KAAM,gBACNC,YAAa,cACb5C,QAAS,CACL6C,OAAQpD,EAASO,QACjB8C,QAASrD,EAASS,IAClBD,KAAMR,EAASQ,KACfE,QAASV,EAASU,UAGxBiC,QAAQC,IAAI,qBAAsBU,KAAKC,UAAUN,IAEjD,IAEE,MAAMO,QAAiBC,MAAM,sCAAuC,CAClEC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMN,KAAKC,UAAUN,KAIvB,GAAIO,EAASK,GAAI,CACflB,QAAQC,IAAI,gCACZ,MAAMkB,EAAeN,EAASO,OAC9BpB,QAAQC,IAAI,yBAA0BkB,GAEtC,MAAME,EAAQR,EAASQ,MACvBC,aAAaC,QAAQ,QAASF,GAG9BrF,KAAKwF,QAAQC,KAAK,CAAEC,KAAM,KAC5B,KAAO,CACL,GAAoC,IAAjC5C,OAAO6C,KAAKd,GAAUe,OAEvB5F,KAAKV,aAAe,+CAA+CuF,EAASgB,OAAO,IAAIhB,EAASiB,WAAW,QACtG,CACL,MAAMC,EAAYlB,EAASO,OAC3BpF,KAAKV,aAAe,2BAA2ByG,EAAUtC,OAC3D,CACAzD,KAAKe,qBAAsB,CAC7B,CACF,CAAE,MAAOgD,GACLC,QAAQD,MAAM,kBAAmBA,EACrC,CACF,IKlFN,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,QNGE,GACEzC,KAAM,WACNoC,WAAY,CACVsC,SAAQA,IORd,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS7F,KAEpE,O","sources":["webpack://frontend/./src/components/ErrorModal.vue","webpack://frontend/./src/components/ErrorModal.vue?6118","webpack://frontend/./src/views/RegisterView.vue","webpack://frontend/./src/components/RegisterComponent.vue","webpack://frontend/./src/components/molecules/FormComponent.vue","webpack://frontend/./src/components/atoms/InputField.vue","webpack://frontend/./src/components/atoms/InputField.vue?863a","webpack://frontend/./src/components/molecules/FormComponent.vue?e1e5","webpack://frontend/./src/components/RegisterComponent.vue?4c8a","webpack://frontend/./src/views/RegisterView.vue?1ec6"],"sourcesContent":["<template>\r\n    <div v-if=\"isVisible\" class=\"fixed inset-0 bg-gray-800 bg-opacity-50 flex items-center justify-center\">\r\n      <div class=\"bg-white p-4 rounded shadow-md w-96\">\r\n        <p class=\"text-red-600 font-bold\">{{ errorMessage }}</p>\r\n        <button @click=\"closeModal\" class=\"mt-4 p-2 bg-red-600 text-white rounded\">Close</button>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    props: {\r\n      isVisible: Boolean,\r\n      errorMessage: String\r\n    },\r\n    methods: {\r\n      closeModal() {\r\n        this.$emit('update:isVisible', false);\r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  ","import { render } from \"./ErrorModal.vue?vue&type=template&id=051924e9\"\nimport script from \"./ErrorModal.vue?vue&type=script&lang=js\"\nexport * from \"./ErrorModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"register\">\r\n      <Register />\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import Register from '@/components/RegisterComponent.vue'\r\n  \r\n  \r\n  export default {\r\n    name: 'HomeView',\r\n    components: {\r\n      Register\r\n    }\r\n  }\r\n  </script>\r\n  ","<template>\r\n    <div class=\"min-h-screen flex flex-col items-center\">\r\n      <div class=\"w-96 bg-white p-8 rounded shadow mt-20\">\r\n        <NormalHeading text=\"Register\" />\r\n        <div class=\"h-0.5 bg-gray-200 w-36 mx-auto mt-2.5 mb-4\"></div>\r\n        <FormComponent @formSubmit=\"submit\">\r\n          <button type=\"submit\" class=\"w-full bg-teal-700 text-white p-2 rounded hover:bg-teal-500\">Register</button>\r\n        </FormComponent>\r\n      </div>\r\n    </div>\r\n\r\n    <ErrorModal \r\n      :isVisible=\"isErrorModalVisible\" \r\n      :errorMessage=\"errorMessage\"\r\n      @update:isVisible=\"isErrorModalVisible = $event\"\r\n    />\r\n  </template>\r\n  \r\n  <script>\r\n  import FormComponent from \"@/components/molecules/FormComponent.vue\";\r\n  import NormalHeading from \"./atoms/NormalHeading.vue\";\r\n  import ErrorModal from '../components/ErrorModal.vue'\r\n  \r\n  export default {\r\n    components: {\r\n      FormComponent,\r\n      NormalHeading,\r\n      ErrorModal\r\n    },\r\n    data() {\r\n      return {\r\n        isErrorModalVisible: false,\r\n        errorMessage: ''\r\n      }\r\n    },\r\n    methods: {\r\n      async submit(formData) {\r\n\r\n        const payload = {\r\n          name: formData.name,\r\n          password: formData.password,\r\n          email: formData.email,\r\n          role: \"ROLE_CUSTOMER\",\r\n          phonenumber: \"+4322342234\",\r\n          address: {\r\n              street: formData.address, \r\n              zipcode: formData.zip,\r\n              city: formData.city,\r\n              country: formData.country\r\n          }\r\n        };\r\n        console.log(\"Sending this data:\", JSON.stringify(payload));\r\n\r\n        try {   \r\n          // Send formData to backend using fetch \r\n          const response = await fetch(\"http://localhost:8080/api/v1/signup\", {\r\n            method: \"POST\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(payload),\r\n          });\r\n          \r\n          // Check if the response is successful\r\n          if (response.ok) {\r\n            console.log(\"Registration was successful!\");\r\n            const responseData = response.json();\r\n            console.log(\"Response from backend:\", responseData);\r\n            \r\n            const token = response.token;\r\n            localStorage.setItem('token', token);\r\n\r\n            // Redirect to the home page or any other route if needed\r\n            this.$router.push({ path: '/' });\r\n          } else {\r\n            if(Object.keys(response).length === 0) {\r\n              //Response is leer -> wsh 403 Forbidden\r\n              this.errorMessage = \"An error occurred. Please try again later. (\"+response.status+\" \"+response.statusText+\")\";\r\n            } else {\r\n              const errorData = response.json();\r\n              this.errorMessage = \"Error registering user: \"+errorData.message;\r\n            }\r\n            this.isErrorModalVisible = true;\r\n          }\r\n        } catch (error) {\r\n            console.error(\"Network error: \"+ error);\r\n        }\r\n      }\r\n    },\r\n  }\r\n  </script>\r\n  ","<template>\r\n    <form @submit.prevent=\"submit\">\r\n      <InputField v-model=\"formData.name\" id=\"name\" label=\"Name\" :errors=\"fieldErrors.name\" type=\"text\" placeholder=\"Your Name\"/>\r\n      <InputField v-model=\"formData.address\" id=\"address\" label=\"Address\" :errors=\"fieldErrors.address\" type=\"text\" placeholder=\"Your Address\"/>\r\n      <div class=\"flex space-x-4\"> <!-- space-x-4 provides spacing between flex children -->\r\n        <InputField v-model=\"formData.city\" id=\"city\" :errors=\"fieldErrors.city\" label=\"City\" type=\"text\" placeholder=\"Your City\"/>\r\n        <InputField v-model=\"formData.zip\" id=\"zip\" :errors=\"fieldErrors.zip\" label=\"Zip\" type=\"text\" placeholder=\"Your Zip\"/>\r\n      </div>\r\n      <InputField v-model=\"formData.country\" id=\"country\" :errors=\"fieldErrors.country\" label=\"Country\" type=\"text\" placeholder=\"Your Country\"/>\r\n      <InputField v-model=\"formData.email\" id=\"email\" :errors=\"fieldErrors.email\" label=\"Email\" type=\"email\" placeholder=\"Your Email\"/>\r\n      <InputField v-model=\"formData.password\" id=\"password\" :errors=\"fieldErrors.password\" label=\"Password\" type=\"password\" placeholder=\"Your Password\"/>\r\n      <slot></slot> <!-- slot for submit button -->\r\n    </form>\r\n  </template>\r\n  \r\n  <script>\r\n  import { ref } from 'vue';\r\n\r\n  import InputField from \"@/components/atoms/InputField.vue\";\r\n\r\n  export default {\r\n    components: {\r\n      InputField\r\n    },\r\n    setup(props, context) {\r\n        const formData = ref({\r\n            name: '',\r\n            address: '',\r\n            city: '',\r\n            zip: '',\r\n            country: '',\r\n            email: '',\r\n            password: ''\r\n        });\r\n        const fieldErrors = ref({\r\n          name: null,\r\n          address: null,\r\n          city: null,\r\n          zip: null,\r\n          country: null,\r\n          email: null,\r\n          password: null\r\n      });\r\n\r\n        function submit() {\r\n          const hasError = Object.values(fieldErrors.value).some(error => error);\r\n          if (!hasError) {\r\n              console.log(\"Successful validation!\");\r\n              console.log('Emitting form data:', formData.value);\r\n              context.emit('formSubmit', formData.value);\r\n          } else {\r\n              console.log(\"Validation failed!\");\r\n          } \r\n        }\r\n\r\n        return {\r\n            formData,\r\n            fieldErrors,\r\n            submit\r\n        };\r\n    }\r\n  }\r\n  </script>\r\n  ","<template>\r\n    <div class=\"mb-4\">\r\n      <label :for=\"id\" class=\"block text-sm mb-1\">{{ label }}:</label>\r\n      <input :type=\"type\" :id=\"id\" @input=\"updateValue($event)\" @blur=\"validate\" :value=\"modelValue\" :placeholder=\"placeholder\" class=\"w-full h-10 px-2 border rounded\">\r\n      <div class=\"text-red-500\" v-if=\"fieldError\">{{ fieldError }}</div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { ref } from 'vue';\r\n\r\n  export default {\r\n    props: {\r\n      id: String,\r\n      modelValue: String,\r\n      label: String,\r\n      type: String,\r\n      placeholder: String,\r\n      validation: {\r\n        type: Object,\r\n        default: null,\r\n      },\r\n    },\r\n    setup(props, context) {\r\n        const fieldError = ref(null);\r\n\r\n        const updateValue = (event) => {\r\n            context.emit('update:modelValue', event.target.value);\r\n        };\r\n\r\n        const validate = () => {\r\n            if (props.validation) {\r\n                props.validation.validate(props.modelValue)\r\n                    .then(() => {\r\n                        fieldError.value = null; // No error\r\n                    })\r\n                    .catch(err => {\r\n                        fieldError.value = err.message; // Set the error message\r\n                        context.emit('error', fieldError.value); // This goes in the validate method of InputField\r\n                    });\r\n            }\r\n        };\r\n\r\n        return {\r\n            fieldError,\r\n            updateValue,\r\n            validate\r\n        };\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  \r\n  \r\n  \r\n  ","import { render } from \"./InputField.vue?vue&type=template&id=191c13e2\"\nimport script from \"./InputField.vue?vue&type=script&lang=js\"\nexport * from \"./InputField.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./FormComponent.vue?vue&type=template&id=0183646a\"\nimport script from \"./FormComponent.vue?vue&type=script&lang=js\"\nexport * from \"./FormComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./RegisterComponent.vue?vue&type=template&id=2a9c79c8\"\nimport script from \"./RegisterComponent.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./RegisterView.vue?vue&type=template&id=23306f6a\"\nimport script from \"./RegisterView.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","$props","isVisible","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_toDisplayString","errorMessage","onClick","_cache","args","$options","closeModal","props","Boolean","String","methods","this","$emit","__exports__","render","_createVNode","_component_Register","type","_component_NormalHeading","text","_component_FormComponent","onFormSubmit","submit","_hoisted_4","_component_ErrorModal","$data","isErrorModalVisible","$event","onSubmit","_withModifiers","$setup","_component_InputField","formData","name","id","label","errors","fieldErrors","placeholder","address","city","zip","country","email","password","_renderSlot","_ctx","$slots","for","onInput","updateValue","onBlur","validate","value","modelValue","fieldError","validation","Object","default","setup","context","ref","event","emit","target","then","catch","err","message","components","InputField","hasError","values","some","error","console","log","FormComponent","NormalHeading","ErrorModal","data","payload","role","phonenumber","street","zipcode","JSON","stringify","response","fetch","method","headers","body","ok","responseData","json","token","localStorage","setItem","$router","push","path","keys","length","status","statusText","errorData","Register"],"sourceRoot":""}