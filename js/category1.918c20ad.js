"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[848],{1754:function(e,t,s){s.d(t,{A:function(){return E}});s(8743);var o=s(6768),n=s(5130),r=s(4232);const a={class:"category-container"},i={class:"category-title"},c={class:"grid"},u=["onClick"],d=["src"],l={class:"tile-name"},h={key:"empty",class:"card empty-card"},g={class:"category-title"},m={key:0,class:"page-indicator"},p={key:1,class:"name"},C={class:"like-wrapper",style:{position:"relative",display:"inline-block"}},v=["disabled"],y={key:0,class:"heart-animation"},k={class:"nav-buttons"};function I(e,t,s,I,x,f){return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("div",{class:"slider",onTouchstart:t[0]||(t[0]=(...e)=>f.onTouchStart&&f.onTouchStart(...e)),onTouchend:t[1]||(t[1]=(...e)=>f.onTouchEnd&&f.onTouchEnd(...e))},[(0,o.bF)(n.eB,{name:"slide",mode:"out-in"},{default:(0,o.k6)(()=>[f.currentPageCostumes.length?((0,o.uX)(),(0,o.CE)("div",{key:x.pageIndex,class:"card"},[(0,o.Lk)("div",i,(0,r.v_)(f.categoryTitle),1),(0,o.Lk)("div",c,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(f.currentPageCostumes,(e,t)=>((0,o.uX)(),(0,o.CE)("button",{key:e.id,class:(0,r.C4)(["photo-tile",{selected:t===x.selectedIndex,voted:e.id===f.votedSelectionId}]),onClick:e=>f.selectCostume(t)},[(0,o.Lk)("img",{src:e.image,class:"tile-image",alt:"Costume"},null,8,d),(0,o.Lk)("div",l,(0,r.v_)(e.name),1)],10,u))),128))])])):((0,o.uX)(),(0,o.CE)("div",h,[(0,o.Lk)("div",g,(0,r.v_)(f.categoryTitle),1),(0,o.eW)(" No entries ")]))]),_:1}),f.totalPages>1?((0,o.uX)(),(0,o.CE)("div",m,(0,r.v_)(x.pageIndex+1)+" / "+(0,r.v_)(f.totalPages),1)):(0,o.Q3)("",!0),f.currentCostume?((0,o.uX)(),(0,o.CE)("div",p," Ausgewählt: "+(0,r.v_)(f.currentCostume.name),1)):(0,o.Q3)("",!0)],32),(0,o.Lk)("div",C,[(0,o.Lk)("button",{class:"like-button",disabled:f.isConcluded||f.hasVoted,onClick:t[2]||(t[2]=(...e)=>f.like&&f.like(...e))}," ❤️ Like ",8,v),x.showHeart?((0,o.uX)(),(0,o.CE)("span",y,"❤️")):(0,o.Q3)("",!0)]),(0,o.Lk)("div",k,[s.prevRoute?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"nav-button",onClick:t[3]||(t[3]=t=>e.$router.push(s.prevRoute))}," ← Zurück ")):(0,o.Q3)("",!0),s.nextRoute?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"nav-button",onClick:t[4]||(t[4]=t=>e.$router.push(s.nextRoute))}," Weiter → ")):(0,o.Q3)("",!0)])])}var x=s(7683),f={name:"CategoryBase",props:{category:{type:Number,required:!0},nextRoute:{type:String,default:null},prevRoute:{type:String,default:null}},data(){return{pageIndex:0,selectedIndex:0,touchStartX:0,showHeart:!1}},computed:{store(){return(0,x.G)()},costumes(){return this.store.getCostumesByCategory(this.category)},pages(){const e=4,t=[];for(let s=0;s<this.costumes.length;s+=e)t.push(this.costumes.slice(s,s+e));return t},totalPages(){return this.pages.length},currentPageCostumes(){return this.pages[this.pageIndex]||[]},currentCostume(){return this.currentPageCostumes[this.selectedIndex]},votedSelectionId(){return this.store.getVotedSelections[this.category]},isConcluded(){return this.store.isContestConcluded},hasVoted(){return this.store.hasVotedInCategory(this.category)},categoryTitle(){return 1===this.category?"Bestes Einzelkostüm":2===this.category?"Bestes Gruppenkostüm":3===this.category?"Kreativstes Kostüm":`Category ${this.category}`}},mounted(){this.store.loadContestFromFirebase()},methods:{selectCostume(e){this.selectedIndex=e},like(){this.currentCostume&&(this.hasVoted||(this.store.voteForCostume(this.category,this.currentCostume.id),this.store.markCategoryLiked(this.category,this.currentCostume.id),this.showHeart=!0,setTimeout(()=>{this.showHeart=!1},1e3)))},onTouchStart(e){this.touchStartX=e.changedTouches[0].clientX},onTouchEnd(e){const t=e.changedTouches[0].clientX-this.touchStartX;Math.abs(t)<50||(t<0&&this.pageIndex<this.totalPages-1&&(this.pageIndex++,this.selectedIndex=0),t>0&&this.pageIndex>0&&(this.pageIndex--,this.selectedIndex=0))}},watch:{costumes(){this.pageIndex>=this.totalPages&&(this.pageIndex=0),this.selectedIndex=0},votedSelectionId:{handler(){if(!this.votedSelectionId)return;const e=this.pages.flat(),t=e.findIndex(e=>e.id===this.votedSelectionId);if(-1===t)return;const s=Math.floor(t/4),o=t%4;this.pageIndex=s,this.selectedIndex=o},immediate:!0}}},b=s(1241);const X=(0,b.A)(f,[["render",I],["__scopeId","data-v-04147597"]]);var E=X},9576:function(e,t,s){s.r(t),s.d(t,{default:function(){return i}});var o=s(6768),n=s(1754),r={__name:"CategoryOne",setup(e){return(e,t)=>((0,o.uX)(),(0,o.Wv)(n.A,{category:1,nextRoute:"/category/2"}))}};const a=r;var i=a}}]);
//# sourceMappingURL=category1.918c20ad.js.map